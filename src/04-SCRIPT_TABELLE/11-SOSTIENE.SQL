DROP TABLE SOSTIENE;

--SOSTIENE
CREATE TABLE SOSTIENE(
N_TESSERINO_SOSTIENE CHAR(7),
DATA_ALL_SOSTIENE DATE,
RUOLO_SOSTIENE VARCHAR2(15)NOT NULL,
VOTO_SOSTIENE NUMBER(2,0) NOT NULL,
CONSTRAINT SOSTIENE_PK PRIMARY KEY(N_TESSERINO_SOSTIENE,DATA_ALL_SOSTIENE),
CONSTRAINT SOSTIENE_FK1 FOREIGN KEY(N_TESSERINO_SOSTIENE) REFERENCES ALLIEVO(N_TESSERINO) ON DELETE CASCADE,
CONSTRAINT SOSTIENE_FK2 FOREIGN KEY(DATA_ALL_SOSTIENE) REFERENCES ALLENAMENTO(DATA_ALL) ON DELETE CASCADE,
CONSTRAINT CONTROLLO_VOTO CHECK(VOTO_SOSTIENE>=0 AND VOTO_SOSTIENE<=10),
CONSTRAINT CONTROLLO_RUOLO_SOSTIENE CHECK(UPPER(RUOLO_SOSTIENE) IN ('PORTIERE','DIFENSORE','CENTROCAMPISTA','ATTACCANTE'))
);